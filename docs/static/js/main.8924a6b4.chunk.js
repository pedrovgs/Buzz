(this.webpackJsonpBuzz=this.webpackJsonpBuzz||[]).push([[0],{447:function(t,e,n){},448:function(t,e,n){},462:function(t,e,n){"use strict";n.r(e);var i=n(49),o=n.n(i),r=n(76),s=n(2),a=n.n(s),c=n(21),u=n.n(c),l=n(90),d=n.n(l),h=n(146),p=n.n(h)()({fontFamily:"Roboto, sans-serif",palette:{primary1Color:"#f2db2c",primary2Color:"#33658a",accent1Color:"#bbaa00",accent2Color:"#003b5d",textColor:"#000000",alternateTextColor:"#ffffff"}}),f=n(28),b=n(15),g=n(16),j=n(18),v=n(17),O=n(465),m="/logIn",y="/album",k="/camera",C="/preview",w="/detail",S="RESET_STATE";function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:S,state:t}}var P="SAVE_SESSION",T="LOG_OUT",E=function t(e,n){Object(b.a)(this,t),this.uid=e,this.email=n};function I(t){return function(e){e({type:T}),e(x()),t.replace("/")}}var L={user:void 0,authToken:void 0};function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case P:return Object.assign({},t,{user:e.user});case T:return L;default:return t}}function U(t){return!!("undefined"!==typeof t.session)&&"undefined"!==typeof t.session.user}function F(t){return"undefined"!==typeof t.session&&"undefined"!==typeof t.session.user?t.session.user.uid:void 0}var _=n.p+"static/media/logo.e918f3e3.svg",R=n(4),B="medium",A={width:"40%",height:"40%",padding:"12px"},z={width:"25%",height:"25%",padding:"8px"},N=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var t=this.getComponentStyle();return Object(R.jsx)("img",{id:"logo",src:_,alt:"Buzz logo",style:t})}},{key:"getComponentStyle",value:function(){this.props.size;return this.props.size===B?z:A}}]),n}(a.a.Component),M=n(26);var W={isRunningTests:function(){var t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAFF1HzzpgX6fNzysOQqKbNfm4K7WtLT0o",REACT_APP_FIREBASE_AUTH_DOMAIN:"buzz-349b0.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://buzz-349b0.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"buzz-349b0",REACT_APP_FIREBASE_STORAGE_BUCKET:"buzz-349b0.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"123240264331",REACT_APP_ALBUM_NUMBER_OF_COLUMNS:"3"}).REACT_APP_RUNNING_TESTS;return!!t&&!0===Boolean(t)}},V=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){if(this.props.hidden)return null;var t=W.isRunningTests()?"determinate":"indeterminate";return Object(R.jsx)(M.c,{id:"progress",mode:t,size:100,value:55})}}]),n}(a.a.Component);V.defaultProps={hidden:!1};var H=V,G=n(30),K=n(222);function X(t){return W.isRunningTests()?t:Object(R.jsx)(K.CSSTransitionGroup,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnterTimeout:500,transitionLeaveTimeout:300,children:t})}var Y=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).state={loading:!1},i}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.showLoadingTimer=setTimeout((function(){return t.showLoading()}),1200)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.showLoadingTimer),clearTimeout(this.hideLoadingTimer)}},{key:"render",value:function(){return Object(R.jsx)(G.Row,{center:"xs",middle:"xs",className:"fullWidth",children:Object(R.jsx)(G.Col,{children:X(this.getMainComponent())})})}},{key:"getMainComponent",value:function(){return this.state.loading?(this.scheduleHideLoading(),Object(R.jsx)(H,{})):Object(R.jsx)(N,{size:"big"})}},{key:"scheduleHideLoading",value:function(){var t=this;this.hideLoadingTimer=setTimeout((function(){return t.openNextScreen()}),1900)}},{key:"openNextScreen",value:function(){return!1===this.props.isUserLoggedIn?this.props.history.push(m):this.props.history.push(y)}},{key:"showLoading",value:function(){this.setState({loading:!0})}}]),n}(a.a.Component);var q=Object(O.a)(Object(f.b)((function(t){return{isUserLoggedIn:U(t)}}))(Y)),J=n(24),Q=n(37);var Z={signOut:function(){return Q.a.auth().signOut()},signIn:function(t,e){return Q.a.auth().signInWithEmailAndPassword(t,e)},signUp:function(t,e){return Q.a.auth().createUserWithEmailAndPassword(t,e)},currentUser:function(){return Q.a.auth().currentUser}},$={isLogInInProgress:!1,email:void 0,password:void 0,errorMessage:void 0},tt={padding:"6px"},et={margin:12},nt=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).state=$,i.onEmailFieldChanged=i.onEmailFieldChanged.bind(Object(J.a)(i)),i.onPasswordFieldChanged=i.onPasswordFieldChanged.bind(Object(J.a)(i)),i.onSubmit=i.onSubmit.bind(Object(J.a)(i)),i}return Object(g.a)(n,[{key:"render",value:function(){var t=this.state.isLogInInProgress;return Object(R.jsxs)("form",{style:tt,id:"signInForm",children:[Object(R.jsx)("div",{children:Object(R.jsx)(M.j,{id:"emailField",floatingLabelText:"Email",disabled:t,onChange:this.onEmailFieldChanged,errorText:this.state.errorMessage})}),Object(R.jsx)("div",{children:Object(R.jsx)(M.j,{id:"passwordField",type:"password",floatingLabelText:"Password",disabled:t,onChange:this.onPasswordFieldChanged})}),Object(R.jsxs)("div",{children:[Object(R.jsx)(M.i,{id:"signUpButton",label:"Sign Up",style:et,disabled:t,onClick:this.onSubmit}),Object(R.jsx)(M.i,{id:"signInButton",label:"Sign In",style:et,disabled:t,onClick:this.onSubmit})]})]})}},{key:"onEmailFieldChanged",value:function(t,e){this.setState((function(){return{email:e}}))}},{key:"onPasswordFieldChanged",value:function(t,e){this.setState((function(){return{password:e}}))}},{key:"onSubmit",value:function(t){return t&&t.preventDefault(),this.setStateToLogInInProgress(!0),this.signInOrSignUpIfTheUserAlreadyExists()}},{key:"signInOrSignUpIfTheUserAlreadyExists",value:function(){var t=this,e=this.state.email,n=this.state.password;return Z.signOut().then((function(){return Z.signIn(e,n).then((function(){t.notifyLogInSuccess()})).catch((function(i){var o=i.code;"auth/user-not-found"===o?t.createAccount(e,n):o&&t.setStateToError(i.message),t.setStateToLogInInProgress(!1)}))}))}},{key:"createAccount",value:function(t,e){var n=this;Z.signUp(t,e).then((function(){n.notifyLogInSuccess()})).catch((function(t){var e=t.message;e?n.setStateToError(e):n.notifyLogInSuccess(),n.setStateToLogInInProgress(!1)}))}},{key:"notifyLogInSuccess",value:function(){var t=Z.currentUser();t&&this.props.onUserLoggedIn(new E(t.uid,t.email))}},{key:"setStateToLogInInProgress",value:function(t){this.setState((function(){return{isLogInInProgress:t}}))}},{key:"setStateToError",value:function(t){this.setState((function(){return{errorMessage:t}}))}}]),n}(a.a.Component),it=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.goToAlbumScreenIfTheUserIsStillLoggedIn()}},{key:"componentDidUpdate",value:function(){this.goToAlbumScreenIfTheUserIsStillLoggedIn()}},{key:"render",value:function(){return Object(R.jsx)(G.Grid,{className:"fullWidth",children:Object(R.jsx)(G.Row,{center:"xs",middle:"xs",className:"fullWidth",children:X(Object(R.jsx)(G.Col,{children:Object(R.jsxs)(M.b,{children:[Object(R.jsx)(N,{size:B}),Object(R.jsx)(nt,{onUserLoggedIn:this.props.onUserLoggedIn})]})}))})})}},{key:"goToAlbumScreenIfTheUserIsStillLoggedIn",value:function(){!0===this.props.isUserLoggedIn&&this.props.history.push(y)}}]),n}(s.Component),ot=Object(O.a)(Object(f.b)((function(t){return{isUserLoggedIn:U(t)}}),(function(t){return{onUserLoggedIn:function(e){t(function(t){return{type:P,user:t}}(e))},onError:function(){t(I())}}}))(it)),rt=n(467),st=n(466),at={position:"fixed",right:"0",bottom:"0",margin:"20px"},ct=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(R.jsx)(M.f,{style:at,onClick:this.props.onClick,disabled:this.props.disabled,children:this.props.children})}}]),n}(a.a.Component),ut=n(225),lt=n.n(ut),dt=n(226),ht=n.n(dt),pt={textTransform:"lowercase"},ft=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).onLeftIconButtonClick=i.onLeftIconButtonClick.bind(Object(J.a)(i)),i.onLogOutButtonClick=i.onLogOutButtonClick.bind(Object(J.a)(i)),i.closeDialog=i.closeDialog.bind(Object(J.a)(i)),i.handleLogOutOkButtonClick=i.handleLogOutOkButtonClick.bind(Object(J.a)(i)),i.state={showLogOutDialog:!1},i}return Object(g.a)(n,[{key:"render",value:function(){var t=[Object(R.jsx)(M.e,{label:"Cancel",primary:!0,onClick:this.closeDialog},"Cancel button"),Object(R.jsx)(M.e,{label:"Ok",primary:!0,keyboardFocused:!0,onClick:this.handleLogOutOkButtonClick},"Ok button")];return Object(R.jsxs)("div",{children:[Object(R.jsx)(M.d,{title:"Log Out",actions:t,modal:!1,open:this.state.showLogOutDialog,children:"Would you like to close your session?"}),Object(R.jsx)(M.a,{title:this.props.title,onLeftIconButtonClick:this.onLeftIconButtonClick,iconElementLeft:this.leftIcon(),showMenuIconButton:this.props.showBackButton||!1,iconElementRight:Object(R.jsx)(M.e,{label:this.props.userLoggedInEmail||" ",onClick:this.onLogOutButtonClick,labelStyle:pt})})]})}},{key:"leftIcon",value:function(){return this.props.showBackButton?Object(R.jsx)(M.h,{children:Object(R.jsx)(ht.a,{})}):null}},{key:"onLeftIconButtonClick",value:function(){!0===this.props.showBackButton&&this.props.history.goBack()}},{key:"onLogOutButtonClick",value:function(){this.setState({showLogOutDialog:!0})}},{key:"closeDialog",value:function(){this.setState({showLogOutDialog:!1})}},{key:"handleLogOutOkButtonClick",value:function(){this.closeDialog(),this.props.handleLogOutOkButtonClick(this.props.history)}}]),n}(a.a.Component),bt=Object(O.a)(Object(f.b)((function(t){return t.session&&t.session.user?{userLoggedInEmail:t.session.user.email}:{}}),(function(t){return{handleLogOutOkButtonClick:function(e){t(I(e))}}}))(ft)),gt=n(35),jt=n.n(gt);function vt(t,e){var n=Q.a.storage().ref(),i=jt()().unix(),o="jpg",r=n.child("".concat(t,"/").concat(i,".").concat(o));return r.putString(e,"data_url").then((function(){return r.getDownloadURL().then((function(e){var n=e.substring(0,e.indexOf(o)+o.length)+"?alt=media";return function(t,e){var n=Ot(t),i=Q.a.database().ref(n),o=i.child(n).push().key,r={};r["/pictures/"+o]={url:e,createdAt:jt()().valueOf()},i.update(r)}(t,n),n}))}))}function Ot(t){return t.split(".").join("")}var mt="FETCH_PICTURES",yt="PICTURES_LOADED",kt="SELECT_PICTURE",Ct="DELETE_PICTURE",wt="DELETING_PICTURE";function St(){return function(t,e){if(!W.isRunningTests()){var n=F(e());n&&(t({type:mt,folder:n}),(i=n,Q.a.database().ref("".concat(Ot(i),"/pictures/")).orderByChild("createdAt").once("value").then((function(t){var e=t.val();return e?Object.keys(e).map((function(t){var n=e[t];return n.id=t,n})).reverse():[]}))).then((function(e){t({type:yt,pictures:e})})))}var i}}function xt(t){return{type:kt,pictureSelected:t}}function Pt(t){return function(e,n){var i,o,r=F(n());e({type:wt}),(i=r,o=t.id,Q.a.database().ref("".concat(Ot(i),"/pictures/")).child(o).remove()).then((function(){e({type:Ct,pictureToDelete:t})}))}}var Tt=n(91),Et=n.n(Tt);function It(t){var e=new Date(t);return jt()(e).format("MMM Do YYYY")}var Lt=n(227),Dt=n.n(Lt),Ut={contentStyle:{height:"30%",width:"90%",margin:"auto"},icon:{height:"200px",width:"200px",color:"#828282"},text:{color:"#828282",fontSize:"110%"}},Ft=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(R.jsxs)("div",{style:Ut.contentStyle,children:[Object(R.jsx)(Dt.a,{style:Ut.icon}),Object(R.jsxs)("p",{style:Ut.text,children:["Don\xb4t be shy"," ",Object(R.jsx)("span",{role:"img","aria-label":"Smiley",children:"\ud83d\ude03"}),"\ufe0f"]}),Object(R.jsxs)("p",{style:Ut.text,children:["Take your first picture tapping on the bottom right button"," ",Object(R.jsx)("span",{role:"img","aria-label":"Camera",children:"\ud83d\udcf8"})]})]})}}]),n}(a.a.Component),_t=n(228),Rt={gridList:{width:"100%",height:"100%",overflowY:"auto"},img:{minWidth:"100%",minHeight:"100%",transform:"translate(-50%, -50%)",position:"relative",left:"50%",top:"50%"}},Bt=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).onFloatingButtonClick=i.onFloatingButtonClick.bind(Object(J.a)(i)),i.onPictureClick=i.onPictureClick.bind(Object(J.a)(i)),i}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchPictures()}},{key:"render",value:function(){var t=this.props.fetchingPictures||0===this.props.pictures.length?{height:"100%"}:{};return Object(R.jsxs)("div",{style:t,children:[Object(R.jsx)(bt,{title:"\ud83d\uddbc Your album"}),this.renderMainComponent(),Object(R.jsx)(ct,{onClick:this.onFloatingButtonClick,children:Object(R.jsx)(lt.a,{})})]})}},{key:"renderMainComponent",value:function(){var t=this;return this.props.fetchingPictures?Object(R.jsx)(G.Row,{center:"xs",middle:"xs",className:"fullWidth",children:Object(R.jsx)(G.Col,{xs:!0,children:Object(R.jsx)(H,{})})}):this.props.pictures.length>0?Object(R.jsx)("div",{children:Object(R.jsx)(Et.a,{cols:this.props.numberOfColumns,cellHeight:200,style:Rt.gridList,children:this.props.pictures.map((function(e){var n=e.url,i=It(e.createdAt);return Object(R.jsx)(M.g,{title:i,children:Object(R.jsx)(_t.LazyLoadImage,{onClick:function(){t.onPictureClick(e)},style:Rt.img,src:n,alt:i})},n)}))})}):Object(R.jsx)(G.Row,{center:"xs",middle:"xs",className:"fullWidth",children:Object(R.jsx)(G.Col,{xs:!0,children:Object(R.jsx)(Ft,{})})})}},{key:"onFloatingButtonClick",value:function(){!function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullScreen?t.webkitEnterFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}(),this.props.history.push(k)}},{key:"onPictureClick",value:function(t){this.props.onPictureClick(t),this.props.history.push(w)}}]),n}(s.Component);Bt.defaultProps={fetchingPictures:!0,numberOfColumns:Number("3")};var At=Object(O.a)(Object(f.b)((function(t){var e=t.album,n=t.session;return e&&n&&n.user?{fetchingPictures:e.fetchingPictures||!1,pictures:e.pictures||[],sendPictureEmail:n.user.email}:{fetchingPictures:!1,pictures:[]}}),(function(t){return{fetchPictures:function(){t(St())},onPictureClick:function(e){t(xt(e))}}}))(Bt));n(447),n(448);var zt=n(229),Nt=n.n(zt),Mt={position:"fixed",top:"50%",left:"50%",height:"100%",zIndex:"-100",transform:"translateX(-50%) translateY(-50%) scaleX(-1)"},Wt=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.getVideoTag();navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;var n={audio:!1,video:{width:{ideal:1280},height:{ideal:1024},facingMode:"user"}};navigator.mediaDevices.enumerateDevices().then((function(t){for(var e=0;e!==t.length;++e)"videoinput"===t[e].kind&&(n.deviceId={exact:t[e].deviceId})})),navigator.mediaDevices.getUserMedia(n).then((function(n){t.localStream=n,e.srcObject=n}))}},{key:"componentWillUnmount",value:function(){var t=this.localStream;if(t){t.getTracks()[0].stop();var e=this.getVideoTag();e.pause(),e.srcObject=null}}},{key:"render",value:function(){return Object(R.jsx)("video",{autoPlay:"true",id:"video",style:Mt})}},{key:"getVideoTag",value:function(){return document.querySelector("#video")}},{key:"takePicture",value:function(){var t=this.getVideoTag(),e=document.createElement("canvas");e.height=t.videoHeight,e.width=t.videoWidth;var n=e.getContext("2d");return n.scale(-1,1),n.drawImage(t,0,0,-1*e.width,e.height),e.toDataURL()}}]),n}(a.a.Component),Vt={position:"absolute",height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.5)"},Ht={fontSize:"100pt",color:"#FFFFFF",position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"},Gt=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).state=i.initialState(),i}return Object(g.a)(n,[{key:"initialState",value:function(){return{countdownValue:this.props.countdownSeconds,countdownFinished:!1}}},{key:"componentDidUpdate",value:function(t){var e=this;this.wasTheStartDateConfiguredRecently(t)&&this.setState(this.initialState()),!0!==this.state.countdownFinished&&(this.shouldStopTheCountdown(t)?(this.setState({countdownValue:0,countdownFinished:!0}),this.props.onCountdownFinished()):(this.wasTheStartDateConfiguredRecently(t)&&this.updateCounterValue(),this.didStartTheCountdown()&&(this.countdownTimer=setTimeout((function(){e.updateCounterValue()}),1e3))))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.countdownTimer)}},{key:"render",value:function(){return this.didStartTheCountdown()?Object(R.jsx)("div",{style:Vt,children:Object(R.jsx)("span",{style:Ht,children:this.state.countdownValue})}):null}},{key:"didStartTheCountdown",value:function(){return"undefined"!==typeof this.props.countdownStartDate&&!1===this.state.countdownFinished}},{key:"wasTheStartDateConfiguredRecently",value:function(t){return"undefined"===typeof t.countdownStartDate&&"undefined"!==typeof this.props.countdownStartDate}},{key:"updateCounterValue",value:function(){if(this.props.countdownStartDate){var t=jt()(),e=this.props.countdownStartDate.diff(t,"seconds"),n=this.props.countdownSeconds-Math.abs(e);this.setState({countdownValue:n})}}},{key:"shouldStopTheCountdown",value:function(t){return this.state.countdownValue<=0&&!this.wasTheStartDateConfiguredRecently(t)&&!1===this.state.countdownFinished}}]),n}(a.a.Component),Kt="SAVE_TENTATIVE_PICTURE",Xt="UPLOAD_PICTURE",Yt="PICTURE_UPLOADED";function qt(t){return function(e,n){e({type:Xt,base64Picture:t}),vt(F(n()),t).then((function(t){e(function(t){return{type:Yt,pictureUrl:t}}(t))}))}}var Jt={height:"100%",width:"100%"},Qt=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).state={width:0,height:0},i.onFloatingButtonClick=i.onFloatingButtonClick.bind(Object(J.a)(i)),i.didStartTheCountdown=i.didStartTheCountdown.bind(Object(J.a)(i)),i.didFinishCountdown=i.didFinishCountdown.bind(Object(J.a)(i)),i.webcamReference=a.a.createRef(),i}return Object(g.a)(n,[{key:"componentDidUpdate",value:function(t,e){e.tentativePicture!==this.state.tentativePicture&&this.props.history.push(C)}},{key:"render",value:function(){return X(Object(R.jsxs)("div",{style:Jt,children:[Object(R.jsx)(bt,{title:"\ud83d\udcf8 Cheeese!",showBackButton:!0}),Object(R.jsxs)("div",{children:[Object(R.jsx)(Wt,{ref:this.webcamReference}),Object(R.jsx)(Gt,{countdownSeconds:5,countdownStartDate:this.state.startCountdownDate,onCountdownFinished:this.didFinishCountdown}),Object(R.jsx)(ct,{onClick:this.onFloatingButtonClick,disabled:this.didStartTheCountdown(),children:Object(R.jsx)(Nt.a,{})})]})]}))}},{key:"onFloatingButtonClick",value:function(){this.setState({startCountdownDate:jt()()})}},{key:"didStartTheCountdown",value:function(){return"undefined"!==typeof this.state.startCountdownDate}},{key:"didFinishCountdown",value:function(){this.setState({startCountdownDate:void 0});var t=this.webcamReference.current.takePicture();this.props.onPictureTaken(t),this.props.history.push(C)}}]),n}(s.Component),Zt=Object(O.a)(Object(f.b)((function(t){var e=t.camera;return e?{tentativePicture:e.tentativePicture}:{}}),(function(t){return{onPictureTaken:function(e){t({type:Kt,base64Picture:e})}}}))(Qt)),$t={height:"100%"},te={position:"absolute",top:"50%",left:"50%",height:"100%",transform:"translateX(-50%) translateY(-50%)"},ee=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.setState({mountDate:jt()(),previewFinished:!1})}},{key:"componentDidUpdate",value:function(){var t=this;if(this.props.pictureUploaded&&!1===this.state.previewFinished){this.setState({previewFinished:!0});var e=3-jt()().diff(this.state.mountDate),n=Math.max(e,0);setTimeout((function(){t.props.history.goBack()}),n)}else!1===this.state.previewFinished&&this.uploadPicture()}},{key:"render",value:function(){var t=this.props.tentativePicture||this.props.pictureUploaded;return X(Object(R.jsxs)("div",{style:$t,children:[Object(R.jsx)("div",{children:Object(R.jsx)(bt,{title:"\ud83d\ude03 Uploading your picture"})}),Object(R.jsx)(G.Row,{center:"xs",middle:"xs",className:"fullWidth",children:Object(R.jsx)(G.Col,{xs:!0,children:Object(R.jsxs)("div",{children:[Object(R.jsx)("img",{alt:"Preview",style:te,src:t}),Object(R.jsx)(H,{})]})})})]}))}},{key:"uploadPicture",value:function(){var t=this.props.tentativePicture;t&&this.props.uploadPicture(t)}}]),n}(a.a.Component),ne=Object(O.a)(Object(f.b)((function(t){var e=t.camera;return e?{tentativePicture:e.tentativePicture,pictureUploaded:e.lastPictureUploaded}:{}}),(function(t){return{uploadPicture:function(e){t(qt(e))}}}))(ee)),ie=(n(449),n(450),n(230)),oe=n.n(ie),re=n(231),se=n.n(re),ae=(n(451),function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(t){var i;return Object(b.a)(this,n),(i=e.call(this,t)).updateDimensions=i.updateDimensions.bind(Object(J.a)(i)),i.onNewPictureSelected=i.onNewPictureSelected.bind(Object(J.a)(i)),i.onFloatingButtonClick=i.onFloatingButtonClick.bind(Object(J.a)(i)),i}return Object(g.a)(n,[{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"UNSAFE_componentWillMount",value:function(){this.updateDimensions()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(){0===this.props.pictures.length&&this.props.history.goBack()}},{key:"render",value:function(){var t=this,e=this.props.selectedPicture?It(this.props.selectedPicture.createdAt):"",n=this.props.pictures.map((function(t){return{original:t.url}}));return Object(R.jsxs)("div",{children:[Object(R.jsx)(bt,{title:e,showBackButton:!0}),Object(R.jsx)(se.a,{items:n,lazyLoad:!0,showFullscreenButton:!1,autoPlay:!0,showThumbnails:!1,slideInterval:6e4,onSlide:function(e){return t.onNewPictureSelected(e)}}),Object(R.jsx)(ct,{disabled:this.props.deletingPicture,onClick:this.onFloatingButtonClick,children:Object(R.jsx)(oe.a,{})})]})}},{key:"settings",value:function(){var t=this.props.selectedPicture;return{dots:!0,infinite:!0,lazyLoad:!0,speed:500,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,autoplay:!0,autoplaySpeed:6e4,initialSlide:t?this.props.pictures.indexOf(t):0}}},{key:"onNewPictureSelected",value:function(t){var e=this.props.pictures[t];this.props.onPictureSelected(e)}},{key:"onFloatingButtonClick",value:function(){var t=this.props.selectedPicture;t&&this.props.onPictureDeleted(t)}}]),n}(a.a.Component));ae.defaultProps={pictures:[],deletingPicture:!1};var ce=Object(O.a)(Object(f.b)((function(t){var e=t.album;return{pictures:e.pictures,selectedPicture:e.selectedPicture,deletingPicture:e.deletingPicture}}),(function(t){return{onPictureSelected:function(e){t(xt(e))},onPictureDeleted:function(e){t(Pt(e))}}}))(ae)),ue={height:"100%"},le=function(t){Object(j.a)(n,t);var e=Object(v.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(R.jsx)(rt.a,{children:Object(R.jsxs)("div",{style:ue,children:[Object(R.jsx)(st.a,{exact:!0,path:"/",component:q}),Object(R.jsx)(st.a,{exact:!0,path:m,component:ot}),Object(R.jsx)(st.a,{exact:!0,path:y,component:At}),Object(R.jsx)(st.a,{exact:!0,path:k,component:Zt}),Object(R.jsx)(st.a,{exact:!0,path:C,component:ne}),Object(R.jsx)(st.a,{exact:!0,path:w,component:ce})]})})}}]),n}(s.Component),de=n(77),he=n(93),pe=n.n(he),fe="state";function be(){return(be=Object(r.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return t(pe.a.get(fe)||{})})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ge=n(232),je=n(233),ve={tentativePicture:void 0,uploadingPicture:!1,lastPictureUploaded:void 0};function Oe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Kt:return Object.assign({},t,{tentativePicture:e.base64Picture,lastPictureUploaded:void 0});case Xt:return Object.assign({},t,{uploadingPicture:!0});case Yt:return Object.assign({},t,{uploadingPicture:!1,tentativePicture:void 0,lastPictureUploaded:e.pictureUrl});default:return t}}var me={fetchingPictures:!1,deletingPicture:!1,pictures:[]};function ye(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case mt:return Object.assign({},t,{fetchingPictures:!0});case yt:return Object.assign({},t,{fetchingPictures:!1,pictures:e.pictures});case kt:return Object.assign({},t,{selectedPicture:e.pictureSelected});case wt:return Object.assign({},t,{deletingPicture:!0});case Ct:return Object.assign({},t,{deletingPicture:!1,selectedPicture:ke(t.pictures,e.pictureToDelete),pictures:t.pictures.filter((function(t){return t.id!==e.pictureToDelete.id}))});default:return t}}function ke(t,e){if(1!==t.length){var n=Math.max(0,t.indexOf(e)-1);return t[n]}}var Ce=Object(de.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return e.state;default:return{session:D(t.session,e),camera:Oe(t.camera,e),album:ye(t.album,e)}}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(de.a)(je.a));W.isRunningTests()||Q.a.initializeApp({apiKey:"AIzaSyAFF1HzzpgX6fNzysOQqKbNfm4K7WtLT0o",authDomain:"buzz-349b0.firebaseapp.com",databaseURL:"https://buzz-349b0.firebaseio.com",projectId:"buzz-349b0",storageBucket:"buzz-349b0.appspot.com",messagingSenderId:"123240264331"}),function(t){if(!W.isRunningTests())(function(t){return function(){return be.apply(this,arguments)}().then((function(e){t.dispatch(x(e))}))})(t).then((function(){!function(t){var e=function(){var t,e=Ce.getState();t=e,new Promise((function(e){return pe.a.set(fe,t),e(t)}))},n=1e3;t.subscribe(Object(ge.throttle)(e),n)}(t)}))}(Ce);var we=Ce,Se=n(234),xe=n.n(Se);function Pe(){return(Pe=Object(r.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,navigator.wakeLock.request("screen");case 4:e=t.sent,console.log("Wake lock is active"),e.addEventListener("release",(function(){console.log("Wake lock released")})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error("Failed to acquire wake lock:",t.t0);case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}W.isRunningTests()&&(window.store=we),xe.a.load({google:{families:["Roboto:400","sans-serif"]}}),function(){Pe.apply(this,arguments)}(),u.a.render(Object(R.jsx)(f.a,{store:we,children:Object(R.jsx)(d.a,{muiTheme:p,children:Object(R.jsx)(le,{})})}),document.getElementById("root"))}},[[462,1,2]]]);
//# sourceMappingURL=main.8924a6b4.chunk.js.map